<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Starmap | The Great Silence</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;400;700&family=Lora:ital,wght@0,400;0,700;1,400&family=Source+Code+Pro:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-deep-space: #0a0f18;
            --color-content-bg: #ffffff;
            --color-text-main: #212529;
            --color-text-headings: #000000;
            --color-accent-hud: #0056b3;
            --color-accent-amber: #c75c00;
            --color-archive-glitch: #0a663e;
            --color-map-grid: rgba(0, 86, 179, 0.2);
            --font-heading: 'Exo 2', sans-serif;
            --font-body: 'Lora', serif;
            --font-mono: 'Source-Code-Pro', monospace;
        }

        @keyframes stars-drift {
            from { background-position: 0 0; }
            to { background-position: -10000px 5000px; }
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(199, 92, 0, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(199, 92, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(199, 92, 0, 0); }
        }

        @keyframes glitch-anim {
            0% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
            100% { transform: translate(0); }
        }

        html { scroll-behavior: smooth; }

        body {
            background-color: var(--color-deep-space);
            background-image: url('https://www.transparenttextures.com/patterns/stardust.png');
            animation: stars-drift 1200s linear infinite;
            font-family: var(--font-body);
            font-size: 18px;
            line-height: 1.7;
            margin: 0;
            padding: 2rem 1rem; 
            /* CHANGE: Removed "color: white" to allow dark text on white paper */
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            /* CHANGE: White background to match other files */
            background-color: var(--color-content-bg);
            color: var(--color-text-main);
            /* CHANGE: Subtle shadow adjustment */
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
            padding: 2rem;
            border-radius: 8px;
            /* Removed the HUD border to match the clean look of the other files */
        }

        /* Navigation Styles */
        nav {
            /* CHANGE: Dark divider for white background */
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            padding: 1rem 0;
            margin-bottom: 2rem;
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        nav a {
            font-family: var(--font-heading);
            color: var(--color-accent-hud);
            text-decoration: none;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 2px;
            font-size: 0.9em;
            padding: 8px 12px;
            border-radius: 4px;
            transition: color 0.3s, background-color 0.3s;
        }

        nav a:hover, nav a.active {
            /* CHANGE: Swapped colors for active state readability */
            color: white;
            background-color: var(--color-accent-hud);
        }

        h1, h2 {
            font-family: var(--font-heading);
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        /* CHANGE: Heading 1 is now dark */
        h1 { color: var(--color-text-headings); margin-bottom: 0.5rem; }
        h2 { color: var(--color-accent-amber); font-size: 1.2rem; margin-top: 0; }

        /* MAP STYLES */
        .map-viewport {
            position: relative;
            width: 100%;
            height: 600px;
            /* Map stays dark to represent space */
            background-color: #05080e;
            background-image: 
                linear-gradient(var(--color-map-grid) 1px, transparent 1px),
                linear-gradient(90deg, var(--color-map-grid) 1px, transparent 1px);
            background-size: 50px 50px;
            border: 2px solid var(--color-accent-hud);
            border-radius: 4px;
            overflow: hidden; 
            cursor: crosshair;
        }

        /* The SVG Layer for Trade Routes */
        .trade-routes-svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }
        
        .route-line {
            stroke: var(--color-accent-hud);
            stroke-width: 2;
            opacity: 0.4;
            stroke-dasharray: 5, 5;
            animation: dash 60s linear infinite;
        }

        .route-line.fringe {
            stroke: var(--color-accent-amber);
            opacity: 0.3;
        }

        @keyframes dash {
            to { stroke-dashoffset: -1000; }
        }

        /* Star Markers */
        .star-system {
            position: absolute;
            transform: translate(-50%, -50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: transform 0.2s;
            z-index: 10;
        }

        .star-system:hover {
            transform: translate(-50%, -50%) scale(1.2);
            z-index: 20;
        }

        .star-dot {
            width: 12px;
            height: 12px;
            background-color: white;
            border-radius: 50%;
            box-shadow: 0 0 10px white;
        }

        .star-dot.core { background-color: #4da6ff; box-shadow: 0 0 10px #4da6ff; }
        .star-dot.fringe { background-color: var(--color-accent-amber); box-shadow: 0 0 10px var(--color-accent-amber); animation: pulse 2s infinite; }
        .star-dot.anomaly { background-color: var(--color-archive-glitch); box-shadow: 0 0 15px var(--color-archive-glitch); }

        .star-label {
            margin-top: 8px;
            font-family: var(--font-mono);
            font-size: 0.75rem;
            color: rgba(255, 255, 255, 0.7);
            text-transform: uppercase;
            text-shadow: 0 0 3px black;
            background-color: rgba(0,0,0,0.5);
            padding: 2px 4px;
            border-radius: 3px;
        }

        /* MODAL POPUP STYLES */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 100;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }

        .modal-box {
            background-color: #ffffff;
            color: var(--color-text-main);
            width: 90%;
            max-width: 500px;
            padding: 2rem;
            border-radius: 4px;
            border-left: 5px solid var(--color-accent-hud);
            position: relative;
            box-shadow: 0 0 30px rgba(0, 86, 179, 0.5);
            animation: slide-in 0.3s ease-out;
        }

        @keyframes slide-in {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-close {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #999;
        }
        .modal-close:hover { color: black; }

        .modal-header {
            font-family: var(--font-heading);
            font-size: 1.5rem;
            color: var(--color-accent-hud);
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .modal-meta {
            font-family: var(--font-mono);
            font-size: 0.85rem;
            color: #666;
            margin-bottom: 1rem;
            border-bottom: 1px solid #eee;
            padding-bottom: 0.5rem;
        }
        
        .modal-description {
            font-family: var(--font-body);
            line-height: 1.6;
        }

        .archive-data {
            font-family: var(--font-mono);
            color: var(--color-archive-glitch);
            font-weight: bold;
        }

        /* Mobile adjustments */
        @media (max-width: 600px) {
            .map-viewport { height: 400px; }
            .star-label { font-size: 0.6rem; }
        }

    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Galactic Sector Map</h1>
            <h2>Tharsis Institute Navigational Database</h2>
        </header>

        <nav>
            <a href="index.html">Foreword</a>
            <a href="lore.html">Lore</a>
            <a href="starmap.html" class="active">Starmap</a>
            <a href="#gallery">Gallery</a>
            <a href="#chapters">Chapters</a>
        </nav>

        <div style="text-align: center; margin-bottom: 1rem; font-family: var(--font-mono); font-size: 0.8em; color: var(--color-accent-amber);">
            [INTERACTIVE: CLICK A SYSTEM FOR DETAILS]
        </div>

        <div class="map-viewport" id="mapContainer">
            <svg class="trade-routes-svg">
                <line x1="50%" y1="50%" x2="55%" y2="45%" class="route-line" />
                <line x1="50%" y1="50%" x2="40%" y2="55%" class="route-line" />
                <line x1="40%" y1="55%" x2="45%" y2="65%" class="route-line" />
                <line x1="45%" y1="65%" x2="50%" y2="50%" class="route-line" />
                
                <line x1="50%" y1="50%" x2="15%" y2="20%" class="route-line fringe" />
                <line x1="15%" y1="20%" x2="10%" y2="80%" class="route-line fringe" />
            </svg>

            <div class="star-system" style="top: 50%; left: 50%;" onclick="showSystem('sol')">
                <div class="star-dot core"></div>
                <div class="star-label">SOL</div>
            </div>

            <div class="star-system" style="top: 52%; left: 48%;" onclick="showSystem('station734')">
                <div class="star-dot anomaly" style="width: 8px; height: 8px;"></div>
                <div class="star-label">STATION 734</div>
            </div>

            <div class="star-system" style="top: 45%; left: 55%;" onclick="showSystem('helios')">
                <div class="star-dot core"></div>
                <div class="star-label">HELIOS PRIME</div>
            </div>

            <div class="star-system" style="top: 55%; left: 40%;" onclick="showSystem('eridani')">
                <div class="star-dot core"></div>
                <div class="star-label">EPSILON ERIDANI</div>
            </div>

            <div class="star-system" style="top: 65%; left: 45%;" onclick="showSystem('geneva')">
                <div class="star-dot core"></div>
                <div class="star-label">NEW GENEVA</div>
            </div>

            <div class="star-system" style="top: 68%; left: 42%;" onclick="showSystem('sanctuary')">
                <div class="star-dot anomaly" style="width: 6px; height: 6px; background-color: purple; box-shadow: 0 0 10px purple;"></div>
                <div class="star-label">???</div>
            </div>

            <div class="star-system" style="top: 30%; left: 60%;" onclick="showSystem('veridian')">
                <div class="star-dot core" style="background-color: #e6e600; box-shadow: 0 0 10px #e6e600;"></div>
                <div class="star-label">VERIDIAN</div>
            </div>

            <div class="star-system" style="top: 20%; left: 15%;" onclick="showSystem('nowhere')">
                <div class="star-dot fringe"></div>
                <div class="star-label">PORT NOWHERE</div>
            </div>

            <div class="star-system" style="top: 80%; left: 10%;" onclick="showSystem('graveyard')">
                <div class="star-dot anomaly"></div>
                <div class="star-label">SHIPBREAKER'S GRAVEYARD</div>
            </div>

             <div class="star-system" style="top: 15%; left: 85%;" onclick="showSystem('cygnus')">
                <div class="star-dot anomaly" style="background-color: red; box-shadow: 0 0 15px red;"></div>
                <div class="star-label">VEIL OF CYGNUS</div>
            </div>
        </div>

        <div style="margin-top: 1rem; border-top: 1px solid rgba(0,0,0,0.1); padding-top: 1rem;">
            <p style="font-size: 0.8rem; font-family: var(--font-mono); color: #666;">
                <strong style="color: var(--color-accent-amber);">ARCHIVIST'S NOTE:</strong> Distance representation is logarithmic. Core systems (Sol, Centauri, Ceti) are magnified for clarity. Fringe systems (Port Nowhere, Cygnus) are significantly more distant than visually depicted.
            </p>
        </div>
    </div>

    <div id="infoModal" class="modal-overlay" onclick="closeModal(event)">
        <div class="modal-box">
            <span class="modal-close" onclick="closeModal(event)">&times;</span>
            <div id="modalContent">
                </div>
        </div>
    </div>

    <script>
        // Data Object for Systems
        const systems = {
            'sol': {
                title: 'Sol System',
                dist: '0 Light Years',
                allegiance: 'Solar Mandate',
                desc: 'The cradle of humanity. Home to Earth (Administrative Capital), Mars (Scientific Capital), and the headquarters of the Tharsis Institute. Heavily patrolled by Mandate cutters.'
            },
            'station734': {
                title: 'Station 734 ("Echo\'s End")',
                dist: '~0.7 Light Years',
                allegiance: 'Tharsis Institute',
                desc: 'An ancient First-Wave listening post drifting in the Oort Cloud. Current Custodian: <span class="archive-data">Dr. Elizabeth Shaw</span>. Site of the "Visitor 2850 Alpha" anomaly detection.'
            },
            'helios': {
                title: 'Helios Prime (Alpha Centauri)',
                dist: '4.3 Light Years',
                allegiance: 'Helios Dynamics Corp',
                desc: 'A hyper-industrialized system owned entirely by Helios Dynamics. Access is restricted to corporate employees and authorized contractors. Home to the immense "Sky-Forges" orbital shipyards.'
            },
            'geneva': {
                title: 'New Geneva (Tau Ceti)',
                dist: '11.9 Light Years',
                allegiance: 'Free-Trader Alliance',
                desc: 'The primary hub of the Free-Trader Alliance. A terrestrial world of rolling plains and "Saddleback" herds. Known for its open markets, lack of corporate oversight, and slow-trade culture.'
            },
            'eridani': {
                title: 'Epsilon Eridani',
                dist: '10.5 Light Years',
                allegiance: 'Independent / Coalition',
                desc: 'Oldest successful extra-solar colony. A major industrial hub that maintains neutrality between the Solar Mandate and the Fringe.'
            },
            'sanctuary': {
                title: 'Sanctuary of Whispers (YZ Ceti)',
                dist: '12.1 Light Years',
                allegiance: 'UNKNOWN',
                desc: '<span class="archive-data">[REDACTED]</span>. Scans indicate a monastery or commune of the Silent Syzygy esoteric order. Approach is discouraged.'
            },
            'veridian': {
                title: 'Veridian Colony (Gliese 581g)',
                dist: '20.4 Light Years',
                allegiance: 'Independent (Former)',
                desc: 'A tidally locked world known for its "Terminator Flora." The entire colony recently went silent following a confirmed "Harmonization Event." <span class="archive-data">QUARANTINE IN EFFECT.</span>'
            },
            'nowhere': {
                title: 'Port Nowhere',
                dist: '~1,200 Light Years',
                allegiance: 'Lawless / Fringe',
                desc: 'A hollowed-out asteroid in the Outer Orion sector. A haven for scavengers, data-runners, and criminals. Governed only by the "Trust Ledger." Previous location of Captain Jax and the <em>Void Mite</em>.'
            },
            'graveyard': {
                title: 'The Shipbreaker\'s Graveyard',
                dist: '~1,300 Light Years',
                allegiance: 'Archive Territory',
                desc: 'LDN 1622. A dark molecular cloud filled with intense gravimetric shears and "Radiomorphic Phantoms." Contains the ruins of a massive Precursor structure. <span class="archive-data">HIGH FATALITY RATE.</span>'
            },
            'cygnus': {
                title: 'The Veil of Cygnus',
                dist: '~1,500 Light Years',
                allegiance: 'Natural Hazard',
                desc: 'A region of space where AI systems experience "Data-Rapture" and cease functioning. Human-piloted vessels only.'
            }
        };

        function showSystem(sysId) {
            const data = systems[sysId];
            const modal = document.getElementById('infoModal');
            const content = document.getElementById('modalContent');
            
            if (data) {
                content.innerHTML = `
                    <div class="modal-header">${data.title}</div>
                    <div class="modal-meta">
                        DISTANCE: <span class="archive-data">${data.dist}</span><br>
                        ALLEGIANCE: ${data.allegiance}
                    </div>
                    <div class="modal-description">${data.desc}</div>
                `;
                modal.style.display = 'flex';
            }
        }

        function closeModal(e) {
            if (e.target.id === 'infoModal' || e.target.classList.contains('modal-close')) {
                document.getElementById('infoModal').style.display = 'none';
            }
        }
    </script>
</body>
</html>
